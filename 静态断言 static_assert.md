# 静态断言 `static_assert`

<!-- TOC -->

- [静态断言 `static_assert`](#静态断言-static_assert)
  - [语法](#语法)
  - [含义](#含义)
  - [性能](#性能)
  - [和 `assert` / `#error` 的区别](#和-assert--error-的区别)
  - [参考链接](#参考链接)

<!-- /TOC -->

## 语法
```cpp
static_assert(常量表达式，提示字符串);
```

## 含义
如果第一个参数常量表达式的值为真(true或者非零值)，那么 `static_assert` 不做任何事；否则会产生一条编译错误信息

## 性能
由于 `static_assert` 属于编译期间断言，不生成目标代码，因此 `static_assert` 不会造成任何运行期间的性能损失

## 和 `assert` / `#error` 的区别
`assert` 是运行期断言，它用来发现运行期间的错误，不能提前到编译期发现错误，也不具有强制性，也谈不上改善编译信息的可读性，既然是运行期检查，对性能当然是有影响的，所以经常在发行版本中，`assert` 都会被关掉  

`#error` 可看做预编译期断言，甚至都算不上断言，仅仅能在预编译时显示一个错误信息，它能做的不多，可以参与预编译的条件检查，由于它无法获得编译信息，当然就做不了更进一步分析了

## 参考链接
[C++11 静态断言(static_assert)](https://www.cnblogs.com/lvdongjie/p/4489835.html)
