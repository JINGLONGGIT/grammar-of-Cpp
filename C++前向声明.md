# 前向声明

<!-- TOC -->

- [前向声明](#前向声明)
  - [避免头文件循环引用](#避免头文件循环引用)
  - [避免引入头文件](#避免引入头文件)

<!-- /TOC -->

C++的类可以进行前向声明
* 前向声明类只能用于**定义指针、引用以及用于函数形参的指针和引用或者函数的返回类型**  
* 不能定义对象，因为此时编译器还不知道类的大小。也不能用于访问类的对象

## 避免头文件循环引用
假设有两个类A和B，类A需要将类B的对象或者指针作为自己的成员使用；此时类B也需要将类A的对象或者指针作为自己的成员使用。那么这时候我们就需要在类A的头文件 `<a.h>` 中包含类B的头文件 `<b.h>` ，也需要在类B的头文件 `<b.h>` 中包含类A的头文件 `<a.h>` 。但是这种相互包含是不允许的。  

我们可以使用前向声明来解决这种问题：

```cpp
// a.h
class B;

class A 
{
public:
    A(){};

private:
    B* b_; 
};
```

```cpp
// b.h
class A;

class B
{
public:
    B(){};

private:
    A* a_;    
};

```

## 避免引入头文件
如果类A用到了某个内部的类，打包时就不得不把内部的头文件也对外开放。库的开发者肯定不希望对外暴露内部的细节，所以需要利用前向声明跳过